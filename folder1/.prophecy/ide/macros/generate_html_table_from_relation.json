{
  "generate_html_table_from_relation" : {
    "name" : "generate_html_table_from_relation",
    "macroType" : "expression",
    "definition" : "{% set rel_sql = relation | string %}\n \n{% if columns is sequence and columns | length > 0 %}\n  {% set cols_sql = (columns | map('string') | list) | join(', ') %}\n   \n{% else %}\n  {% set cols_sql = '*' %}\n   \n{% endif %} \n{% set parts = [] %}\n \n{% do parts.append('select ' ~ cols_sql ~ ' from ' ~ rel_sql) %}\n \n{% if where_clause %}\n  {% do parts.append(' where ' ~ where_clause) %}\n   \n{% endif %} \n{% if order_by %}\n  {% do parts.append(' order by ' ~ order_by) %}\n   \n{% endif %} \n{% if limit is number and limit > 0 %}\n  {% do parts.append(' limit ' ~ limit) %}\n   \n{% endif %} \n{% set sql = parts | join('') %}\n \n{{\n  return(\n    generate_html_table(\n      sql = sql, \n      caption = caption, \n      max_rows = limit, \n      table_class = table_class, \n      include_index = include_index, \n      column_formats = column_formats, \n      infer_formats = false, \n      defaults = None, \n      add_col_classes = add_col_classes, \n      summary = summary\n    )\n  )\n}}",
    "parameters" : {
      "type" : "record",
      "fields" : [ {
        "name" : "relation",
        "kind" : {
          "type" : "value"
        },
        "optional" : false,
        "comment" : "",
        "isWorkflowNodeConfiguration" : false,
        "isReferenced" : false
      }, {
        "name" : "columns",
        "kind" : {
          "type" : "value",
          "value" : "None"
        },
        "optional" : true,
        "comment" : "",
        "isWorkflowNodeConfiguration" : false,
        "isReferenced" : false
      }, {
        "name" : "where_clause",
        "kind" : {
          "type" : "value",
          "value" : "None"
        },
        "optional" : true,
        "comment" : "",
        "isWorkflowNodeConfiguration" : false,
        "isReferenced" : false
      }, {
        "name" : "order_by",
        "kind" : {
          "type" : "value",
          "value" : "None"
        },
        "optional" : true,
        "comment" : "",
        "isWorkflowNodeConfiguration" : false,
        "isReferenced" : false
      }, {
        "name" : "limit",
        "kind" : {
          "type" : "value",
          "value" : "100"
        },
        "optional" : true,
        "comment" : "",
        "isWorkflowNodeConfiguration" : false,
        "isReferenced" : false
      }, {
        "name" : "caption",
        "kind" : {
          "type" : "value",
          "value" : "None"
        },
        "optional" : true,
        "comment" : "",
        "isWorkflowNodeConfiguration" : false,
        "isReferenced" : false
      }, {
        "name" : "table_class",
        "kind" : {
          "type" : "value",
          "value" : "'dbt-table'"
        },
        "optional" : true,
        "comment" : "",
        "isWorkflowNodeConfiguration" : false,
        "isReferenced" : false
      }, {
        "name" : "include_index",
        "kind" : {
          "type" : "value",
          "value" : "True"
        },
        "optional" : true,
        "comment" : "",
        "isWorkflowNodeConfiguration" : false,
        "isReferenced" : false
      }, {
        "name" : "column_formats",
        "kind" : {
          "type" : "value",
          "value" : "None"
        },
        "optional" : true,
        "comment" : "",
        "isWorkflowNodeConfiguration" : false,
        "isReferenced" : false
      }, {
        "name" : "add_col_classes",
        "kind" : {
          "type" : "value",
          "value" : "True"
        },
        "optional" : true,
        "comment" : "",
        "isWorkflowNodeConfiguration" : false,
        "isReferenced" : false
      }, {
        "name" : "summary",
        "kind" : {
          "type" : "value",
          "value" : "None"
        },
        "optional" : true,
        "comment" : "",
        "isWorkflowNodeConfiguration" : false,
        "isReferenced" : false
      } ]
    },
    "staleState" : "none",
    "propertiesFile" : {
      "name" : "macros",
      "content" : "---\nversion: 2\nmacros:\n- name: \"concat_html_tables_from_relations\"\n  arguments:\n  - name: \"sections\"\n    type: \"value\"\n    description: \"{\\\"ProphecyType\\\": \\\"value\\\"}\"\n  macroType: \"query\"\n- name: \"HtmlTable\"\n  arguments:\n  - name: \"sections\"\n    type: \"value\"\n    description: \"{\\\"ProphecyType\\\": \\\"value\\\"}\"\n  macroType: \"query\"\n- name: \"concat_html_tables\"\n  arguments:\n  - name: \"sections\"\n    type: \"value\"\n    description: \"{\\\"ProphecyType\\\": \\\"value\\\"}\"\n  macroType: \"expression\"\n- name: \"generate_html_table_from_relation\"\n  arguments:\n  - name: \"relation\"\n    type: \"value\"\n    description: \"{\\\"ProphecyType\\\": \\\"value\\\"}\"\n  - name: \"columns\"\n    type: \"value\"\n    description: \"{\\\"ProphecyType\\\": \\\"value\\\"}\"\n  - name: \"where_clause\"\n    type: \"value\"\n    description: \"{\\\"ProphecyType\\\": \\\"value\\\"}\"\n  - name: \"order_by\"\n    type: \"value\"\n    description: \"{\\\"ProphecyType\\\": \\\"value\\\"}\"\n  - name: \"limit\"\n    type: \"value\"\n    description: \"{\\\"ProphecyType\\\": \\\"value\\\"}\"\n  - name: \"caption\"\n    type: \"value\"\n    description: \"{\\\"ProphecyType\\\": \\\"value\\\"}\"\n  - name: \"table_class\"\n    type: \"value\"\n    description: \"{\\\"ProphecyType\\\": \\\"value\\\"}\"\n  - name: \"include_index\"\n    type: \"value\"\n    description: \"{\\\"ProphecyType\\\": \\\"value\\\"}\"\n  - name: \"column_formats\"\n    type: \"value\"\n    description: \"{\\\"ProphecyType\\\": \\\"value\\\"}\"\n  - name: \"add_col_classes\"\n    type: \"value\"\n    description: \"{\\\"ProphecyType\\\": \\\"value\\\"}\"\n  - name: \"summary\"\n    type: \"value\"\n    description: \"{\\\"ProphecyType\\\": \\\"value\\\"}\"\n  macroType: \"expression\"\n- name: \"generate_html_table\"\n  arguments:\n  - name: \"sql\"\n    type: \"value\"\n    description: \"{\\\"ProphecyType\\\": \\\"value\\\"}\"\n  - name: \"caption\"\n    type: \"value\"\n    description: \"{\\\"ProphecyType\\\": \\\"value\\\"}\"\n  - name: \"max_rows\"\n    type: \"value\"\n    description: \"{\\\"ProphecyType\\\": \\\"value\\\"}\"\n  - name: \"table_class\"\n    type: \"value\"\n    description: \"{\\\"ProphecyType\\\": \\\"value\\\"}\"\n  - name: \"include_index\"\n    type: \"value\"\n    description: \"{\\\"ProphecyType\\\": \\\"value\\\"}\"\n  - name: \"column_formats\"\n    type: \"value\"\n    description: \"{\\\"ProphecyType\\\": \\\"value\\\"}\"\n  - name: \"infer_formats\"\n    type: \"value\"\n    description: \"{\\\"ProphecyType\\\": \\\"value\\\"}\"\n  - name: \"defaults\"\n    type: \"value\"\n    description: \"{\\\"ProphecyType\\\": \\\"value\\\"}\"\n  - name: \"add_col_classes\"\n    type: \"value\"\n    description: \"{\\\"ProphecyType\\\": \\\"value\\\"}\"\n  - name: \"summary\"\n    type: \"value\"\n    description: \"{\\\"ProphecyType\\\": \\\"value\\\"}\"\n  macroType: \"query\"\n",
      "path" : "test_sql_orch/macros/macros.yml",
      "projectConfiguration" : null,
      "folderConfiguration" : {
        "version" : 2,
        "macros" : [ {
          "name" : "concat_html_tables_from_relations",
          "arguments" : [ {
            "name" : "sections",
            "type" : "value",
            "description" : "{\"ProphecyType\": \"value\"}"
          } ],
          "macroType" : "query"
        }, {
          "name" : "HtmlTable",
          "arguments" : [ {
            "name" : "sections",
            "type" : "value",
            "description" : "{\"ProphecyType\": \"value\"}"
          } ],
          "macroType" : "query"
        }, {
          "name" : "concat_html_tables",
          "arguments" : [ {
            "name" : "sections",
            "type" : "value",
            "description" : "{\"ProphecyType\": \"value\"}"
          } ],
          "macroType" : "expression"
        }, {
          "name" : "generate_html_table_from_relation",
          "arguments" : [ {
            "name" : "relation",
            "type" : "value",
            "description" : "{\"ProphecyType\": \"value\"}"
          }, {
            "name" : "columns",
            "type" : "value",
            "description" : "{\"ProphecyType\": \"value\"}"
          }, {
            "name" : "where_clause",
            "type" : "value",
            "description" : "{\"ProphecyType\": \"value\"}"
          }, {
            "name" : "order_by",
            "type" : "value",
            "description" : "{\"ProphecyType\": \"value\"}"
          }, {
            "name" : "limit",
            "type" : "value",
            "description" : "{\"ProphecyType\": \"value\"}"
          }, {
            "name" : "caption",
            "type" : "value",
            "description" : "{\"ProphecyType\": \"value\"}"
          }, {
            "name" : "table_class",
            "type" : "value",
            "description" : "{\"ProphecyType\": \"value\"}"
          }, {
            "name" : "include_index",
            "type" : "value",
            "description" : "{\"ProphecyType\": \"value\"}"
          }, {
            "name" : "column_formats",
            "type" : "value",
            "description" : "{\"ProphecyType\": \"value\"}"
          }, {
            "name" : "add_col_classes",
            "type" : "value",
            "description" : "{\"ProphecyType\": \"value\"}"
          }, {
            "name" : "summary",
            "type" : "value",
            "description" : "{\"ProphecyType\": \"value\"}"
          } ],
          "macroType" : "expression"
        }, {
          "name" : "generate_html_table",
          "arguments" : [ {
            "name" : "sql",
            "type" : "value",
            "description" : "{\"ProphecyType\": \"value\"}"
          }, {
            "name" : "caption",
            "type" : "value",
            "description" : "{\"ProphecyType\": \"value\"}"
          }, {
            "name" : "max_rows",
            "type" : "value",
            "description" : "{\"ProphecyType\": \"value\"}"
          }, {
            "name" : "table_class",
            "type" : "value",
            "description" : "{\"ProphecyType\": \"value\"}"
          }, {
            "name" : "include_index",
            "type" : "value",
            "description" : "{\"ProphecyType\": \"value\"}"
          }, {
            "name" : "column_formats",
            "type" : "value",
            "description" : "{\"ProphecyType\": \"value\"}"
          }, {
            "name" : "infer_formats",
            "type" : "value",
            "description" : "{\"ProphecyType\": \"value\"}"
          }, {
            "name" : "defaults",
            "type" : "value",
            "description" : "{\"ProphecyType\": \"value\"}"
          }, {
            "name" : "add_col_classes",
            "type" : "value",
            "description" : "{\"ProphecyType\": \"value\"}"
          }, {
            "name" : "summary",
            "type" : "value",
            "description" : "{\"ProphecyType\": \"value\"}"
          } ],
          "macroType" : "query"
        } ]
      },
      "packagesYml" : null,
      "editable" : true
    },
    "version" : 0
  }
}